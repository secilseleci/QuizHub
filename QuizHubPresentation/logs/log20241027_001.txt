2024-10-27 15:28:39.361 +03:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-27 15:28:40.368 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-27 15:28:40.604 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:03.693 +03:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-27 15:32:04.547 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-27 15:32:04.767 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:09.443 +03:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Db_QuizHub];
2024-10-27 15:32:09.495 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Db_QuizHub] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-10-27 15:32:09.525 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-27 15:32:09.618 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-10-27 15:32:09.618 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-27 15:32:09.648 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-27 15:32:09.655 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-27 15:32:09.667 +03:00 [INF] Applying migration '20241019083620_Initial'.
2024-10-27 15:32:09.784 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-10-27 15:32:09.786 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DepartmentId] int NOT NULL IDENTITY,
    [DepartmentName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DepartmentId])
);
2024-10-27 15:32:09.787 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Quizzes] (
    [QuizId] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    [UpdatedDate] datetime2 NOT NULL,
    [QuestionCount] int NOT NULL,
    [ShowCase] bit NOT NULL,
    CONSTRAINT [PK_Quizzes] PRIMARY KEY ([QuizId])
);
2024-10-27 15:32:09.788 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-10-27 15:32:09.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [DepartmentId] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUsers_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([DepartmentId]) ON DELETE NO ACTION
);
2024-10-27 15:32:09.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Questions] (
    [QuestionId] int NOT NULL IDENTITY,
    [Order] int NOT NULL,
    [QuestionText] nvarchar(max) NOT NULL,
    [CorrectOptionId] int NOT NULL,
    [QuizId] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([QuestionId]),
    CONSTRAINT [FK_Questions_Quizzes_QuizId] FOREIGN KEY ([QuizId]) REFERENCES [Quizzes] ([QuizId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.792 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [QuizDepartments] (
    [DepartmentsDepartmentId] int NOT NULL,
    [QuizzesQuizId] int NOT NULL,
    CONSTRAINT [PK_QuizDepartments] PRIMARY KEY ([DepartmentsDepartmentId], [QuizzesQuizId]),
    CONSTRAINT [FK_QuizDepartments_Departments_DepartmentsDepartmentId] FOREIGN KEY ([DepartmentsDepartmentId]) REFERENCES [Departments] ([DepartmentId]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuizDepartments_Quizzes_QuizzesQuizId] FOREIGN KEY ([QuizzesQuizId]) REFERENCES [Quizzes] ([QuizId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.793 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-10-27 15:32:09.795 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-10-27 15:32:09.796 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-10-27 15:32:09.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-10-27 15:32:09.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserQuizInfo] (
    [UserQuizInfoId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [QuizId] int NOT NULL,
    [IsCompleted] bit NOT NULL,
    [CompletedAt] datetime2 NULL,
    [Score] int NOT NULL,
    [IsSuccessful] bit NOT NULL,
    [CorrectAnswer] int NOT NULL,
    [FalseAnswer] int NOT NULL,
    CONSTRAINT [PK_UserQuizInfo] PRIMARY KEY ([UserQuizInfoId]),
    CONSTRAINT [FK_UserQuizInfo_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserQuizInfo_Quizzes_QuizId] FOREIGN KEY ([QuizId]) REFERENCES [Quizzes] ([QuizId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.800 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserQuizInfoTemp] (
    [UserQuizInfoTempId] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [QuizId] int NOT NULL,
    [IsCompleted] bit NOT NULL,
    [StartedAt] datetime2 NULL,
    [CorrectAnswer] int NOT NULL,
    [FalseAnswer] int NOT NULL,
    [Score] int NOT NULL,
    CONSTRAINT [PK_UserQuizInfoTemp] PRIMARY KEY ([UserQuizInfoTempId]),
    CONSTRAINT [FK_UserQuizInfoTemp_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserQuizInfoTemp_Quizzes_QuizId] FOREIGN KEY ([QuizId]) REFERENCES [Quizzes] ([QuizId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.801 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Options] (
    [OptionId] int NOT NULL IDENTITY,
    [OptionText] nvarchar(max) NOT NULL,
    [IsCorrect] bit NOT NULL,
    [QuestionId] int NOT NULL,
    CONSTRAINT [PK_Options] PRIMARY KEY ([OptionId]),
    CONSTRAINT [FK_Options_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([QuestionId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserAnswers] (
    [UserAnswerId] int NOT NULL IDENTITY,
    [UserQuizInfoId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [SelectedOptionId] int NOT NULL,
    [IsCorrect] bit NOT NULL,
    CONSTRAINT [PK_UserAnswers] PRIMARY KEY ([UserAnswerId]),
    CONSTRAINT [FK_UserAnswers_Options_SelectedOptionId] FOREIGN KEY ([SelectedOptionId]) REFERENCES [Options] ([OptionId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserAnswers_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([QuestionId]),
    CONSTRAINT [FK_UserAnswers_UserQuizInfo_UserQuizInfoId] FOREIGN KEY ([UserQuizInfoId]) REFERENCES [UserQuizInfo] ([UserQuizInfoId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.804 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserAnswersTemp] (
    [UserAnswerTempId] int NOT NULL IDENTITY,
    [UserQuizInfoTempId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [SelectedOptionId] int NOT NULL,
    [IsCorrect] bit NOT NULL,
    CONSTRAINT [PK_UserAnswersTemp] PRIMARY KEY ([UserAnswerTempId]),
    CONSTRAINT [FK_UserAnswersTemp_Options_SelectedOptionId] FOREIGN KEY ([SelectedOptionId]) REFERENCES [Options] ([OptionId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserAnswersTemp_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([QuestionId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserAnswersTemp_UserQuizInfoTemp_UserQuizInfoTempId] FOREIGN KEY ([UserQuizInfoTempId]) REFERENCES [UserQuizInfoTemp] ([UserQuizInfoTempId]) ON DELETE CASCADE
);
2024-10-27 15:32:09.860 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'1473c57b-efd0-452b-a1fa-3183bdae7d8a', NULL, N'User', N'USER'),
(N'2b4bcdfd-0bcf-44f9-b92b-f8cb539a05cc', NULL, N'Editor', N'EDITOR'),
(N'50fd92ed-612d-462c-9d6f-d3c63141715d', NULL, N'Admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-10-27 15:32:09.866 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'DepartmentId', N'DepartmentName') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] ON;
INSERT INTO [Departments] ([DepartmentId], [DepartmentName])
VALUES (1, N'IT'),
(2, N'HR'),
(3, N'Designer');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'DepartmentId', N'DepartmentName') AND [object_id] = OBJECT_ID(N'[Departments]'))
    SET IDENTITY_INSERT [Departments] OFF;
2024-10-27 15:32:09.873 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'QuizId', N'CreatedDate', N'QuestionCount', N'ShowCase', N'Title', N'UpdatedDate') AND [object_id] = OBJECT_ID(N'[Quizzes]'))
    SET IDENTITY_INSERT [Quizzes] ON;
INSERT INTO [Quizzes] ([QuizId], [CreatedDate], [QuestionCount], [ShowCase], [Title], [UpdatedDate])
VALUES (1, '2024-10-19T11:36:20.8139342+03:00', 8, CAST(1 AS bit), N'World Capitals', '0001-01-01T00:00:00.0000000'),
(2, '2024-10-19T11:36:20.8139361+03:00', 3, CAST(1 AS bit), N'World Country', '0001-01-01T00:00:00.0000000'),
(3, '2024-10-19T11:36:20.8139362+03:00', 3, CAST(1 AS bit), N'General Knowledge', '0001-01-01T00:00:00.0000000'),
(4, '2024-10-19T11:36:20.8139363+03:00', 2, CAST(1 AS bit), N'Bilişim', '0001-01-01T00:00:00.0000000');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'QuizId', N'CreatedDate', N'QuestionCount', N'ShowCase', N'Title', N'UpdatedDate') AND [object_id] = OBJECT_ID(N'[Quizzes]'))
    SET IDENTITY_INSERT [Quizzes] OFF;
2024-10-27 15:32:09.882 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'QuestionId', N'CorrectOptionId', N'Order', N'QuestionText', N'QuizId') AND [object_id] = OBJECT_ID(N'[Questions]'))
    SET IDENTITY_INSERT [Questions] ON;
INSERT INTO [Questions] ([QuestionId], [CorrectOptionId], [Order], [QuestionText], [QuizId])
VALUES (1, 1, 1, N'What is the capital of Japan?', 1),
(2, 5, 2, N'What is the capital of France?', 1),
(3, 10, 3, N'What is the capital of America?', 1),
(4, 15, 4, N'What is the capital of Kanada?', 1),
(5, 18, 5, N'What is the capital of Turkey?', 1),
(6, 23, 6, N'What is the capital of Spain?', 1),
(7, 26, 7, N'What is the capital of Italy?', 1),
(8, 32, 8, N'What is the capital of England?', 1),
(9, 33, 1, N'How many countries in Europe?', 2),
(10, 39, 2, N'Which is not a European country?', 2),
(11, 42, 3, N'Which is a European country?', 2),
(12, 46, 1, N'Which element is known by the chemical symbol O?', 3),
(13, 51, 2, N'What is the hardest natural substance on Earth?', 3),
(14, 54, 3, N'Which planet is known as the Red Planet?', 3),
(15, 57, 1, N'What does CPU stand for?', 4),
(16, 61, 2, N'Which programming language is primarily used for web development?', 4);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'QuestionId', N'CorrectOptionId', N'Order', N'QuestionText', N'QuizId') AND [object_id] = OBJECT_ID(N'[Questions]'))
    SET IDENTITY_INSERT [Questions] OFF;
2024-10-27 15:32:09.897 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'OptionId', N'IsCorrect', N'OptionText', N'QuestionId') AND [object_id] = OBJECT_ID(N'[Options]'))
    SET IDENTITY_INSERT [Options] ON;
INSERT INTO [Options] ([OptionId], [IsCorrect], [OptionText], [QuestionId])
VALUES (1, CAST(1 AS bit), N'Tokyo', 1),
(2, CAST(0 AS bit), N'Osaka', 1),
(3, CAST(0 AS bit), N'Ankara', 1),
(4, CAST(0 AS bit), N'Paris', 1),
(5, CAST(1 AS bit), N'Paris', 2),
(6, CAST(0 AS bit), N'Berlin', 2),
(7, CAST(0 AS bit), N'Tokyo', 2),
(8, CAST(0 AS bit), N'İstanbul', 2),
(9, CAST(0 AS bit), N'New York', 3),
(10, CAST(1 AS bit), N'Washington', 3),
(11, CAST(0 AS bit), N'Tokyo', 3),
(12, CAST(0 AS bit), N'İstanbul', 3),
(13, CAST(0 AS bit), N'Adana', 4),
(14, CAST(0 AS bit), N'Manisa', 4),
(15, CAST(1 AS bit), N'Ottava', 4),
(16, CAST(0 AS bit), N'Moskova', 4),
(17, CAST(0 AS bit), N'Berlin', 5),
(18, CAST(1 AS bit), N'Ankara', 5),
(19, CAST(0 AS bit), N'Tokyo', 5),
(20, CAST(0 AS bit), N'Paris', 5),
(21, CAST(0 AS bit), N'Tokyo', 6),
(22, CAST(0 AS bit), N'Osaka', 6),
(23, CAST(1 AS bit), N'Madrid', 6),
(24, CAST(0 AS bit), N'Paris', 6),
(25, CAST(0 AS bit), N'Tokyo', 7),
(26, CAST(1 AS bit), N'Rome', 7),
(27, CAST(0 AS bit), N'Tokyo', 7),
(28, CAST(0 AS bit), N'Berlin', 7),
(29, CAST(0 AS bit), N'Melbourne', 8),
(30, CAST(0 AS bit), N'Sydney', 8),
(31, CAST(0 AS bit), N'Ankara', 8),
(32, CAST(1 AS bit), N'London', 8),
(33, CAST(1 AS bit), N'44', 9),
(34, CAST(0 AS bit), N'45', 9),
(35, CAST(0 AS bit), N'46', 9),
(36, CAST(0 AS bit), N'47', 9),
(37, CAST(0 AS bit), N'Slovakia', 10),
(38, CAST(0 AS bit), N'Poland', 10),
(39, CAST(1 AS bit), N'Turkey', 10),
(40, CAST(0 AS bit), N'Estonia', 10),
(41, CAST(0 AS bit), N'Yemen', 11),
(42, CAST(1 AS bit), N'Ireland', 11),
(43, CAST(0 AS bit), N'Qatar', 11),
(44, CAST(0 AS bit), N'India', 11),
(45, CAST(0 AS bit), N'Gold', 12),
(46, CAST(1 AS bit), N'Oxygen', 12),
(47, CAST(0 AS bit), N'Osmium', 12),
(48, CAST(0 AS bit), N'Ozone', 12),
(49, CAST(0 AS bit), N'Gold', 13),
(50, CAST(0 AS bit), N'Iron', 13),
(51, CAST(1 AS bit), N'Diamond', 13),
(52, CAST(0 AS bit), N'Quartz', 13),
(53, CAST(0 AS bit), N'Venus', 14),
(54, CAST(1 AS bit), N'Mars', 14),
(55, CAST(0 AS bit), N'Jupiter', 14),
(56, CAST(0 AS bit), N'Saturn', 14),
(57, CAST(1 AS bit), N'Central Processing Unit', 15),
(58, CAST(0 AS bit), N'Computer Personal Unit', 15),
(59, CAST(0 AS bit), N'Central Power Unit', 15),
(60, CAST(0 AS bit), N'Control Processing Unit', 15),
(61, CAST(1 AS bit), N'JavaScript', 16),
(62, CAST(0 AS bit), N'Python', 16),
(63, CAST(0 AS bit), N'C#', 16),
(64, CAST(0 AS bit), N'Ruby', 16);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'OptionId', N'IsCorrect', N'OptionText', N'QuestionId') AND [object_id] = OBJECT_ID(N'[Options]'))
    SET IDENTITY_INSERT [Options] OFF;
2024-10-27 15:32:09.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-10-27 15:32:09.902 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-10-27 15:32:09.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-10-27 15:32:09.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-10-27 15:32:09.904 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-10-27 15:32:09.904 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-10-27 15:32:09.905 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUsers_DepartmentId] ON [AspNetUsers] ([DepartmentId]);
2024-10-27 15:32:09.905 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-10-27 15:32:09.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Options_QuestionId] ON [Options] ([QuestionId]);
2024-10-27 15:32:09.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Questions_QuizId] ON [Questions] ([QuizId]);
2024-10-27 15:32:09.909 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_QuizDepartments_QuizzesQuizId] ON [QuizDepartments] ([QuizzesQuizId]);
2024-10-27 15:32:09.909 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_QuestionId] ON [UserAnswers] ([QuestionId]);
2024-10-27 15:32:09.910 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_SelectedOptionId] ON [UserAnswers] ([SelectedOptionId]);
2024-10-27 15:32:09.910 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_UserQuizInfoId] ON [UserAnswers] ([UserQuizInfoId]);
2024-10-27 15:32:09.910 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswersTemp_QuestionId] ON [UserAnswersTemp] ([QuestionId]);
2024-10-27 15:32:09.911 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswersTemp_SelectedOptionId] ON [UserAnswersTemp] ([SelectedOptionId]);
2024-10-27 15:32:09.911 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswersTemp_UserQuizInfoTempId] ON [UserAnswersTemp] ([UserQuizInfoTempId]);
2024-10-27 15:32:09.912 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserQuizInfo_QuizId] ON [UserQuizInfo] ([QuizId]);
2024-10-27 15:32:09.912 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserQuizInfo_UserId] ON [UserQuizInfo] ([UserId]);
2024-10-27 15:32:09.913 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserQuizInfoTemp_QuizId] ON [UserQuizInfoTemp] ([QuizId]);
2024-10-27 15:32:09.913 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserQuizInfoTemp_UserId] ON [UserQuizInfoTemp] ([UserId]);
2024-10-27 15:32:09.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241019083620_Initial', N'6.0.0');
2024-10-27 15:32:09.925 +03:00 [INF] Applying migration '20241027122723_data'.
2024-10-27 15:32:09.958 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'1473c57b-efd0-452b-a1fa-3183bdae7d8a';
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.960 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'2b4bcdfd-0bcf-44f9-b92b-f8cb539a05cc';
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.962 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'50fd92ed-612d-462c-9d6f-d3c63141715d';
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.968 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'7a689364-fc3f-43fa-9583-0ab98f4c65b3', N'8fa39801-7132-471d-9410-3e3e85e15d13', N'Editor', N'EDITOR'),
(N'870fcac2-6ad0-4804-9254-bf97b474ffc5', N'26d12315-f8cc-49b5-90fd-e6af2f613ca6', N'Admin', N'ADMIN'),
(N'9b074657-e7f5-4db9-b472-06c5e24ecdd6', N'253ee790-5cef-494f-b8ab-e6ab94aca648', N'User', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-10-27 15:32:09.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Quizzes] SET [CreatedDate] = '2024-10-27T15:27:23.3629676+03:00'
WHERE [QuizId] = 1;
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Quizzes] SET [CreatedDate] = '2024-10-27T15:27:23.3629690+03:00'
WHERE [QuizId] = 2;
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Quizzes] SET [CreatedDate] = '2024-10-27T15:27:23.3629691+03:00'
WHERE [QuizId] = 3;
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Quizzes] SET [CreatedDate] = '2024-10-27T15:27:23.3629692+03:00'
WHERE [QuizId] = 4;
SELECT @@ROWCOUNT;
2024-10-27 15:32:09.971 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241027122723_data', N'6.0.0');
2024-10-27 15:32:10.003 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:10.530 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.607 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='ADMIN@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:10.785 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='f7a7b75e-b15f-4fe5-b28a-42fc4c26ee2e' (Nullable = false) (Size = 450), @p1='0', @p2='dc1a7df5-d6f1-44c9-baeb-c5c74370d2ba' (Size = 4000), @p3='1' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='admin@example.com' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='ADMIN@EXAMPLE.COM' (Size = 256), @p10='ADMIN' (Size = 256), @p11='AQAAAAEAACcQAAAAEHOKtrg3sr0jTai/Wa4U8KPZimsezUDccoyfaRxcwbMuHlkWxIN9DHeqlIAzrTq+6g==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='VSQUKLT2KQW3QUAOFW4UPJ5E25LGD7GF' (Size = 4000), @p15='False', @p16='Admin' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:32:10.816 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 15:32:10.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:10.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='f7a7b75e-b15f-4fe5-b28a-42fc4c26ee2e' (Size = 450), @__p_1='870fcac2-6ad0-4804-9254-bf97b474ffc5' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-10-27 15:32:10.859 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:10.876 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.879 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='ADMIN@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:10.895 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='870fcac2-6ad0-4804-9254-bf97b474ffc5' (Nullable = false) (Size = 450), @p1='f7a7b75e-b15f-4fe5-b28a-42fc4c26ee2e' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-10-27 15:32:10.899 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p15='f7a7b75e-b15f-4fe5-b28a-42fc4c26ee2e' (Nullable = false) (Size = 450), @p0='0', @p1='4418e4de-2e52-4c73-ada9-431475c7f275' (Size = 4000), @p16='dc1a7df5-d6f1-44c9-baeb-c5c74370d2ba' (Size = 4000), @p2='1' (Nullable = true), @p3='admin@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='ADMIN@EXAMPLE.COM' (Size = 256), @p8='ADMIN' (Size = 256), @p9='AQAAAAEAACcQAAAAEHOKtrg3sr0jTai/Wa4U8KPZimsezUDccoyfaRxcwbMuHlkWxIN9DHeqlIAzrTq+6g==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='VSQUKLT2KQW3QUAOFW4UPJ5E25LGD7GF' (Size = 4000), @p13='False', @p14='Admin' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DepartmentId] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2024-10-27 15:32:10.965 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:10.967 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='EDITOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 15:32:10.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 15:32:10.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='AYSELKARA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.972 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='AYSELKARA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='AYSEL@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:10.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='9c9cc369-6bc5-4e4a-b1f2-16a32b5b435a' (Nullable = false) (Size = 450), @p1='0', @p2='5ae11b09-5fac-4662-9046-469acc985fe6' (Size = 4000), @p3='1' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='aysel@example.com' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='AYSEL@EXAMPLE.COM' (Size = 256), @p10='AYSELKARA' (Size = 256), @p11='AQAAAAEAACcQAAAAEDtzvrwTiCKLXV1mxbCEeUU8Ssk8KGzdZP4KGXcJVhacD602sL2RXqKuVKKRFrofBg==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='RWV7DWH7KBXWY2JVS4FK6OLCPOKWZ4AT' (Size = 4000), @p15='False', @p16='AyselKara' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:32:10.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:10.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='9c9cc369-6bc5-4e4a-b1f2-16a32b5b435a' (Size = 450), @__p_1='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-10-27 15:32:10.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:10.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='AYSELKARA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.982 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='AYSEL@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:10.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Nullable = false) (Size = 450), @p1='9c9cc369-6bc5-4e4a-b1f2-16a32b5b435a' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-10-27 15:32:10.985 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='9c9cc369-6bc5-4e4a-b1f2-16a32b5b435a' (Nullable = false) (Size = 450), @p0='0', @p1='3752d7a9-032a-4cc0-8991-3e05bd7ef1d7' (Size = 4000), @p16='5ae11b09-5fac-4662-9046-469acc985fe6' (Size = 4000), @p2='1' (Nullable = true), @p3='aysel@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='AYSEL@EXAMPLE.COM' (Size = 256), @p8='AYSELKARA' (Size = 256), @p9='AQAAAAEAACcQAAAAEDtzvrwTiCKLXV1mxbCEeUU8Ssk8KGzdZP4KGXcJVhacD602sL2RXqKuVKKRFrofBg==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='RWV7DWH7KBXWY2JVS4FK6OLCPOKWZ4AT' (Size = 4000), @p13='False', @p14='AyselKara' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DepartmentId] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2024-10-27 15:32:10.986 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DERYAAFACAN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.989 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DERYAAFACAN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:10.990 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='DERYA@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:10.995 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='6f11c6f6-52f4-49b0-ac21-d1fc13a428be' (Nullable = false) (Size = 450), @p1='0', @p2='934f0fb1-aad3-469c-aff7-bcda9a167745' (Size = 4000), @p3='3' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='derya@example.com' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='DERYA@EXAMPLE.COM' (Size = 256), @p10='DERYAAFACAN' (Size = 256), @p11='AQAAAAEAACcQAAAAEIYDuac6P9pFxku81s3ba09+scEv//KR3C5CSs2jO27psbJ5jgbsj+xdwS8VX0ko5Q==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='X3G44NHJWYFDNZ3ZGU7RNQEHTY3KXIBK' (Size = 4000), @p15='False', @p16='DeryaAfacan' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:32:10.996 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:10.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='6f11c6f6-52f4-49b0-ac21-d1fc13a428be' (Size = 450), @__p_1='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-10-27 15:32:10.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:11.001 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DERYAAFACAN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:11.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='DERYA@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:11.003 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Nullable = false) (Size = 450), @p1='6f11c6f6-52f4-49b0-ac21-d1fc13a428be' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-10-27 15:32:11.004 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='6f11c6f6-52f4-49b0-ac21-d1fc13a428be' (Nullable = false) (Size = 450), @p0='0', @p1='47b772a2-b55f-43ab-9e2b-10d0b5a5b487' (Size = 4000), @p16='934f0fb1-aad3-469c-aff7-bcda9a167745' (Size = 4000), @p2='3' (Nullable = true), @p3='derya@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='DERYA@EXAMPLE.COM' (Size = 256), @p8='DERYAAFACAN' (Size = 256), @p9='AQAAAAEAACcQAAAAEIYDuac6P9pFxku81s3ba09+scEv//KR3C5CSs2jO27psbJ5jgbsj+xdwS8VX0ko5Q==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='X3G44NHJWYFDNZ3ZGU7RNQEHTY3KXIBK' (Size = 4000), @p13='False', @p14='DeryaAfacan' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DepartmentId] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2024-10-27 15:32:11.005 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='CEMSEKER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:11.007 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='CEMSEKER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:11.008 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='CEM@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:11.010 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='bce0ce30-2936-412a-b1bf-ee80870eb6da' (Nullable = false) (Size = 450), @p1='0', @p2='4bee22b1-aa94-48c5-b721-95aba7f60b4d' (Size = 4000), @p3='3' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='cem@example.com' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='CEM@EXAMPLE.COM' (Size = 256), @p10='CEMSEKER' (Size = 256), @p11='AQAAAAEAACcQAAAAEO1G9V7Bim3uHK9xJT7RU3ZaqNXlF8Bo1FvNQwPceHqv7vpWv6n5ZZm39FQ2POrX2Q==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='YECHPWUQWXAJ2KQDNKFSBAQM33DOBYR2' (Size = 4000), @p15='False', @p16='CemSeker' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:32:11.011 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:11.012 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='bce0ce30-2936-412a-b1bf-ee80870eb6da' (Size = 450), @__p_1='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-10-27 15:32:11.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-10-27 15:32:11.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='CEMSEKER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:11.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='CEM@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:11.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='9b074657-e7f5-4db9-b472-06c5e24ecdd6' (Nullable = false) (Size = 450), @p1='bce0ce30-2936-412a-b1bf-ee80870eb6da' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-10-27 15:32:11.017 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p15='bce0ce30-2936-412a-b1bf-ee80870eb6da' (Nullable = false) (Size = 450), @p0='0', @p1='4c4b4cd2-943c-40b3-b482-6e00c4045d15' (Size = 4000), @p16='4bee22b1-aa94-48c5-b721-95aba7f60b4d' (Size = 4000), @p2='3' (Nullable = true), @p3='cem@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='CEM@EXAMPLE.COM' (Size = 256), @p8='CEMSEKER' (Size = 256), @p9='AQAAAAEAACcQAAAAEO1G9V7Bim3uHK9xJT7RU3ZaqNXlF8Bo1FvNQwPceHqv7vpWv6n5ZZm39FQ2POrX2Q==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12='YECHPWUQWXAJ2KQDNKFSBAQM33DOBYR2' (Size = 4000), @p13='False', @p14='CemSeker' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DepartmentId] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2024-10-27 15:32:11.175 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-27 15:32:11.179 +03:00 [INF] Hosting environment: Development
2024-10-27 15:32:11.181 +03:00 [INF] Content root path: C:\QuizHub\QuizHubPresentation\
2024-10-27 15:32:11.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/ - -
2024-10-27 15:32:11.294 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:32:11.309 +03:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller QuizHubPresentation.Controllers.HomeController (QuizHubPresentation).
2024-10-27 15:32:11.462 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-27 15:32:11.503 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:11.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserQuizInfoId], [u].[CompletedAt], [u].[CorrectAnswer], [u].[FalseAnswer], [u].[IsCompleted], [u].[IsSuccessful], [u].[QuizId], [u].[Score], [u].[UserId], [q].[QuizId], [q].[CreatedDate], [q].[QuestionCount], [q].[ShowCase], [q].[Title], [q].[UpdatedDate]
FROM [UserQuizInfo] AS [u]
INNER JOIN [Quizzes] AS [q] ON [u].[QuizId] = [q].[QuizId]
WHERE 0 = 1
2024-10-27 15:32:11.745 +03:00 [INF] Executed ViewResult - view Index executed in 285.3429ms.
2024-10-27 15:32:11.749 +03:00 [INF] Executed action QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation) in 437.9664ms
2024-10-27 15:32:11.749 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:32:11.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/ - - - 200 - text/html;+charset=utf-8 561.4043ms
2024-10-27 15:32:11.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:32:11.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 5.3560ms
2024-10-27 15:32:11.891 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - -
2024-10-27 15:32:11.947 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\QuizHub\QuizHubPresentation\wwwroot\lib\bootstrap\js\bootstrap.bundle.min.js.map'
2024-10-27 15:32:11.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - - - 200 332090 text/plain 63.2015ms
2024-10-27 15:32:16.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - -
2024-10-27 15:32:16.565 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 15:32:16.576 +03:00 [INF] Route matched with {action = "Login", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:32:16.596 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-27 15:32:16.627 +03:00 [INF] Executed ViewResult - view Login executed in 31.5114ms.
2024-10-27 15:32:16.627 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation) in 50.465ms
2024-10-27 15:32:16.627 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 15:32:16.627 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 66.0688ms
2024-10-27 15:32:16.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:32:16.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7730ms
2024-10-27 15:32:19.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/register - -
2024-10-27 15:32:19.034 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:32:19.035 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:32:19.036 +03:00 [INF] Executing ViewResult, running view Register.
2024-10-27 15:32:19.044 +03:00 [INF] Executed ViewResult - view Register executed in 9.0338ms.
2024-10-27 15:32:19.044 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 9.5433ms
2024-10-27 15:32:19.044 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:32:19.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/register - - - 200 - text/html;+charset=utf-8 18.0065ms
2024-10-27 15:32:19.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:32:19.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7890ms
2024-10-27 15:32:41.119 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 248
2024-10-27 15:32:41.121 +03:00 [INF] No CORS policy found for the specified request.
2024-10-27 15:32:41.121 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:32:41.127 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.Dtos.RegisterDto) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:32:41.157 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:41.163 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='MELISMELIS' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:32:41.165 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='MELIS@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:32:41.188 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='f96d2b60-b6cd-4b58-beb1-c0b88fb23119' (Nullable = false) (Size = 450), @p1='0', @p2='d12367d4-bfab-4d47-8e44-47b6478af920' (Size = 4000), @p3='0' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='melis@gmail.com' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='MELIS@GMAIL.COM' (Size = 256), @p10='MELISMELIS' (Size = 256), @p11='AQAAAAEAACcQAAAAEPlhwMOGBHniCfd4EapliDoRQM3kTbKPoRmInJqoV1BiJnrH2N7RkzcYRENq+mwkNQ==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='WDO2UFQ7KN5HG5FWNDF5UCWTGDVW7FCQ' (Size = 4000), @p15='False', @p16='melismelis' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:32:41.241 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Repositories.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6cda023e-62a1-40e0-bb8f-694b26944da1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6cda023e-62a1-40e0-bb8f-694b26944da1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-27 15:32:41.306 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 178.5337ms
2024-10-27 15:32:41.307 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:32:41.384 +03:00 [ERR] Sunucu hatası. URL: /account/register, Method: POST, User: Anonymous
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6cda023e-62a1-40e0-bb8f-694b26944da1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at QuizHubPresentation.Controllers.AccountController.Register(RegisterDto model) in C:\QuizHub\QuizHubPresentation\Controllers\AccountController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at QuizHubPresentation.Infrastructure.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\QuizHub\QuizHubPresentation\Infrastructure\Middleware\GlobalExceptionMiddleware.cs:line 19
2024-10-27 15:32:41.416 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 248 - 302 - - 296.7218ms
2024-10-27 15:32:41.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/Error/500 - -
2024-10-27 15:32:41.418 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 15:32:41.419 +03:00 [INF] Route matched with {action = "Error", controller = "Error", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Error(Int32) on controller QuizHubPresentation.Controllers.ErrorController (QuizHubPresentation).
2024-10-27 15:32:41.421 +03:00 [INF] Executing ViewResult, running view InternalServerError.
2024-10-27 15:32:41.423 +03:00 [INF] Executed ViewResult - view InternalServerError executed in 2.8375ms.
2024-10-27 15:32:41.423 +03:00 [INF] Executed action QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation) in 4.2456ms
2024-10-27 15:32:41.423 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 15:32:41.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/Error/500 - - - 200 - text/html;+charset=utf-8 5.6943ms
2024-10-27 15:32:41.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:32:41.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.6079ms
2024-10-27 15:32:58.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/ - -
2024-10-27 15:32:58.846 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:32:58.847 +03:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller QuizHubPresentation.Controllers.HomeController (QuizHubPresentation).
2024-10-27 15:32:58.858 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-27 15:32:58.859 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:32:58.862 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserQuizInfoId], [u].[CompletedAt], [u].[CorrectAnswer], [u].[FalseAnswer], [u].[IsCompleted], [u].[IsSuccessful], [u].[QuizId], [u].[Score], [u].[UserId], [q].[QuizId], [q].[CreatedDate], [q].[QuestionCount], [q].[ShowCase], [q].[Title], [q].[UpdatedDate]
FROM [UserQuizInfo] AS [u]
INNER JOIN [Quizzes] AS [q] ON [u].[QuizId] = [q].[QuizId]
WHERE 0 = 1
2024-10-27 15:32:58.864 +03:00 [INF] Executed ViewResult - view Index executed in 5.7735ms.
2024-10-27 15:32:58.864 +03:00 [INF] Executed action QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation) in 16.8942ms
2024-10-27 15:32:58.864 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:32:58.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/ - - - 200 - text/html;+charset=utf-8 18.2673ms
2024-10-27 15:32:58.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:32:58.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 1.1670ms
2024-10-27 15:43:03.398 +03:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-27 15:43:04.364 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-27 15:43:04.586 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:43:05.000 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-27 15:43:05.047 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-27 15:43:05.071 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-27 15:43:05.105 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:43:05.514 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:43:05.650 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:43:05.658 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='EDITOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 15:43:05.670 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 15:43:05.671 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='AYSELKARA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:43:05.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='DERYAAFACAN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:43:05.673 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='CEMSEKER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:43:05.752 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-27 15:43:05.756 +03:00 [INF] Hosting environment: Development
2024-10-27 15:43:05.757 +03:00 [INF] Content root path: C:\QuizHub\QuizHubPresentation\
2024-10-27 15:43:05.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/ - -
2024-10-27 15:43:05.828 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:43:05.840 +03:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller QuizHubPresentation.Controllers.HomeController (QuizHubPresentation).
2024-10-27 15:43:05.968 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-27 15:43:05.997 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:43:06.056 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserQuizInfoId], [u].[CompletedAt], [u].[CorrectAnswer], [u].[FalseAnswer], [u].[IsCompleted], [u].[IsSuccessful], [u].[QuizId], [u].[Score], [u].[UserId], [q].[QuizId], [q].[CreatedDate], [q].[QuestionCount], [q].[ShowCase], [q].[Title], [q].[UpdatedDate]
FROM [UserQuizInfo] AS [u]
INNER JOIN [Quizzes] AS [q] ON [u].[QuizId] = [q].[QuizId]
WHERE 0 = 1
2024-10-27 15:43:06.247 +03:00 [INF] Executed ViewResult - view Index executed in 277.4323ms.
2024-10-27 15:43:06.250 +03:00 [INF] Executed action QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation) in 409.5286ms
2024-10-27 15:43:06.251 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 15:43:06.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/ - - - 200 - text/html;+charset=utf-8 498.2025ms
2024-10-27 15:43:06.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:43:06.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 3.4035ms
2024-10-27 15:43:06.379 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - -
2024-10-27 15:43:06.409 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\QuizHub\QuizHubPresentation\wwwroot\lib\bootstrap\js\bootstrap.bundle.min.js.map'
2024-10-27 15:43:06.419 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - - - 200 332090 text/plain 40.0727ms
2024-10-27 15:43:08.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - -
2024-10-27 15:43:08.723 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 15:43:08.733 +03:00 [INF] Route matched with {action = "Login", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:43:08.747 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-27 15:43:08.775 +03:00 [INF] Executed ViewResult - view Login executed in 29.1413ms.
2024-10-27 15:43:08.776 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation) in 42.874ms
2024-10-27 15:43:08.776 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 15:43:08.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 56.4635ms
2024-10-27 15:43:08.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:43:08.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7330ms
2024-10-27 15:43:10.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/register - -
2024-10-27 15:43:10.717 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:43:10.718 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:43:10.719 +03:00 [INF] Executing ViewResult, running view Register.
2024-10-27 15:43:10.727 +03:00 [INF] Executed ViewResult - view Register executed in 8.624ms.
2024-10-27 15:43:10.727 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 9.0963ms
2024-10-27 15:43:10.727 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:43:10.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/register - - - 200 - text/html;+charset=utf-8 15.8866ms
2024-10-27 15:43:10.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:43:10.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 1.0661ms
2024-10-27 15:43:31.997 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 246
2024-10-27 15:43:32.003 +03:00 [INF] No CORS policy found for the specified request.
2024-10-27 15:43:32.003 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:43:32.008 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.Dtos.RegisterDto) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 15:43:32.050 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 15:43:32.058 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='DIDEMKEFELI' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 15:43:32.076 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='DIDEM@GMAIL' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 15:43:32.248 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='3d55a928-fde2-419d-af87-3aa4540d9e36' (Nullable = false) (Size = 450), @p1='0', @p2='c18da0d8-943f-4b9d-afd3-3ac6647b51f9' (Size = 4000), @p3='0' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='didem@gmail' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='DIDEM@GMAIL' (Size = 256), @p10='DIDEMKEFELI' (Size = 256), @p11='AQAAAAEAACcQAAAAECuFG9zdb3WVmR9WcdnICgDxmk7wo/KwSvszdwaTSKw3aO7wDkzRp24FJ02EMKhmSA==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='5CRWJB6PNVDFDYPBB2H2HFZ6HLQ4XGIW' (Size = 4000), @p15='False', @p16='DidemKefeli' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 15:43:32.310 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Repositories.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bef431a-a89e-4645-88c8-60d12460fb35
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bef431a-a89e-4645-88c8-60d12460fb35
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-27 15:43:32.372 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 363.7123ms
2024-10-27 15:43:32.373 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 15:43:32.445 +03:00 [ERR] Sunucu hatası. URL: /account/register, Method: POST, User: Anonymous
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6bef431a-a89e-4645-88c8-60d12460fb35
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at QuizHubPresentation.Controllers.AccountController.Register(RegisterDto model) in C:\QuizHub\QuizHubPresentation\Controllers\AccountController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at QuizHubPresentation.Infrastructure.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\QuizHub\QuizHubPresentation\Infrastructure\Middleware\GlobalExceptionMiddleware.cs:line 19
2024-10-27 15:43:32.468 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 246 - 302 - - 471.4997ms
2024-10-27 15:43:32.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/Error/500 - -
2024-10-27 15:43:32.470 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 15:43:32.471 +03:00 [INF] Route matched with {action = "Error", controller = "Error", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Error(Int32) on controller QuizHubPresentation.Controllers.ErrorController (QuizHubPresentation).
2024-10-27 15:43:32.472 +03:00 [INF] Executing ViewResult, running view InternalServerError.
2024-10-27 15:43:32.475 +03:00 [INF] Executed ViewResult - view InternalServerError executed in 3.0071ms.
2024-10-27 15:43:32.475 +03:00 [INF] Executed action QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation) in 4.0902ms
2024-10-27 15:43:32.475 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 15:43:32.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/Error/500 - - - 200 - text/html;+charset=utf-8 5.6527ms
2024-10-27 15:43:32.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 15:43:32.480 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7432ms
2024-10-27 16:02:25.862 +03:00 [INF] User profile is available. Using 'C:\Users\ASUS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-27 16:02:26.974 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-10-27 16:02:27.208 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:02:30.466 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-27 16:02:30.522 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-27 16:02:30.547 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-27 16:02:30.664 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:02:31.162 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:02:31.295 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:02:31.302 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='EDITOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 16:02:31.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-10-27 16:02:31.314 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='AYSELKARA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:02:31.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DERYAAFACAN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:02:31.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='CEMSEKER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:02:31.453 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-27 16:02:31.458 +03:00 [INF] Hosting environment: Development
2024-10-27 16:02:31.460 +03:00 [INF] Content root path: C:\QuizHub\QuizHubPresentation\
2024-10-27 16:02:31.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/ - -
2024-10-27 16:02:31.565 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 16:02:31.575 +03:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller QuizHubPresentation.Controllers.HomeController (QuizHubPresentation).
2024-10-27 16:02:31.735 +03:00 [INF] Executing ViewResult, running view Index.
2024-10-27 16:02:31.773 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:02:31.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserQuizInfoId], [u].[CompletedAt], [u].[CorrectAnswer], [u].[FalseAnswer], [u].[IsCompleted], [u].[IsSuccessful], [u].[QuizId], [u].[Score], [u].[UserId], [q].[QuizId], [q].[CreatedDate], [q].[QuestionCount], [q].[ShowCase], [q].[Title], [q].[UpdatedDate]
FROM [UserQuizInfo] AS [u]
INNER JOIN [Quizzes] AS [q] ON [u].[QuizId] = [q].[QuizId]
WHERE 0 = 1
2024-10-27 16:02:32.057 +03:00 [INF] Executed ViewResult - view Index executed in 322.2987ms.
2024-10-27 16:02:32.062 +03:00 [INF] Executed action QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation) in 486.0912ms
2024-10-27 16:02:32.062 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.HomeController.Index (QuizHubPresentation)'
2024-10-27 16:02:32.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/ - - - 200 - text/html;+charset=utf-8 602.4892ms
2024-10-27 16:02:32.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:02:32.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 5.8483ms
2024-10-27 16:02:32.225 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - -
2024-10-27 16:02:32.291 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\QuizHub\QuizHubPresentation\wwwroot\lib\bootstrap\js\bootstrap.bundle.min.js.map'
2024-10-27 16:02:32.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44335/lib/bootstrap/js/bootstrap.bundle.min.js.map - - - 200 332090 text/plain 76.6324ms
2024-10-27 16:02:33.923 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - -
2024-10-27 16:02:33.927 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 16:02:33.940 +03:00 [INF] Route matched with {action = "Login", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:02:33.968 +03:00 [INF] Executing ViewResult, running view Login.
2024-10-27 16:02:33.998 +03:00 [INF] Executed ViewResult - view Login executed in 30.5888ms.
2024-10-27 16:02:33.998 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation) in 57.8567ms
2024-10-27 16:02:33.998 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Login (QuizHubPresentation)'
2024-10-27 16:02:33.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/login?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 74.9199ms
2024-10-27 16:02:34.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:02:34.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7997ms
2024-10-27 16:02:35.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/register - -
2024-10-27 16:02:35.634 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:02:35.635 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:02:35.733 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:02:35.751 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[DepartmentName]
FROM [Departments] AS [d]
2024-10-27 16:02:35.792 +03:00 [INF] Executing ViewResult, running view Register.
2024-10-27 16:02:35.803 +03:00 [INF] Executed ViewResult - view Register executed in 11.8302ms.
2024-10-27 16:02:35.803 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 168.0733ms
2024-10-27 16:02:35.803 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:02:35.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/register - - - 200 - text/html;+charset=utf-8 178.5758ms
2024-10-27 16:02:35.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:02:35.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7852ms
2024-10-27 16:04:55.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/register - -
2024-10-27 16:04:55.113 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:04:55.116 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:04:55.120 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:04:55.126 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[DepartmentName]
FROM [Departments] AS [d]
2024-10-27 16:04:55.127 +03:00 [INF] Executing ViewResult, running view Register.
2024-10-27 16:04:55.165 +03:00 [INF] Executed ViewResult - view Register executed in 38.608ms.
2024-10-27 16:04:55.165 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 47.9885ms
2024-10-27 16:04:55.165 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:04:55.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/register - - - 200 - text/html;+charset=utf-8 53.4875ms
2024-10-27 16:04:55.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:04:55.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7194ms
2024-10-27 16:05:37.787 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 255
2024-10-27 16:05:37.789 +03:00 [INF] No CORS policy found for the specified request.
2024-10-27 16:05:37.790 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:37.795 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.Dtos.RegisterDto) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:05:37.855 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:05:37.868 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='GENELKISI' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:05:37.885 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='SECIL@GMAIL' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 16:05:38.202 +03:00 [ERR] Failed executing DbCommand (166ms) [Parameters=[@p0='cb81d150-5223-4942-b257-e0ad4aa777cd' (Nullable = false) (Size = 450), @p1='0', @p2='2eedeb2b-4eb3-4f16-834a-6e355c3d686b' (Size = 4000), @p3='0' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='secil@gmail' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='SECIL@GMAIL' (Size = 256), @p10='GENELKISI' (Size = 256), @p11='AQAAAAEAACcQAAAAEJ7T4D7uRqcJcLPo4hxpS9sGxSiDYVIvrJF0rXxYWKVLt1HDXjRenxJxsZIyfaTFbw==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='WVHMGADPJYSPZD4DKU3DBVGB5V62XDFA' (Size = 4000), @p15='False', @p16='genelkisi' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 16:05:38.292 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Repositories.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-27 16:05:38.349 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 553.3457ms
2024-10-27 16:05:38.350 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:38.427 +03:00 [ERR] Sunucu hatası. URL: /account/register, Method: POST, User: Anonymous
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at QuizHubPresentation.Controllers.AccountController.Register(RegisterDto model)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at QuizHubPresentation.Infrastructure.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context)
2024-10-27 16:05:38.437 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 255 - 302 - - 650.2840ms
2024-10-27 16:05:38.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/Error/500 - -
2024-10-27 16:05:38.439 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:05:38.440 +03:00 [INF] Route matched with {action = "Error", controller = "Error", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Error(Int32) on controller QuizHubPresentation.Controllers.ErrorController (QuizHubPresentation).
2024-10-27 16:05:38.442 +03:00 [INF] Executing ViewResult, running view InternalServerError.
2024-10-27 16:05:38.446 +03:00 [INF] Executed ViewResult - view InternalServerError executed in 4.9908ms.
2024-10-27 16:05:38.446 +03:00 [INF] Executed action QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation) in 6.2831ms
2024-10-27 16:05:38.446 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:05:38.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/Error/500 - - - 200 - text/html;+charset=utf-8 7.9683ms
2024-10-27 16:05:38.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:05:38.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.6847ms
2024-10-27 16:05:42.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/account/register - -
2024-10-27 16:05:42.333 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:42.333 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:05:42.333 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:05:42.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[DepartmentName]
FROM [Departments] AS [d]
2024-10-27 16:05:42.335 +03:00 [INF] Executing ViewResult, running view Register.
2024-10-27 16:05:42.337 +03:00 [INF] Executed ViewResult - view Register executed in 2.1851ms.
2024-10-27 16:05:42.337 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 4.3856ms
2024-10-27 16:05:42.337 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:42.338 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/account/register - - - 200 - text/html;+charset=utf-8 5.2993ms
2024-10-27 16:05:42.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:05:42.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7395ms
2024-10-27 16:05:50.151 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 259
2024-10-27 16:05:50.152 +03:00 [INF] No CORS policy found for the specified request.
2024-10-27 16:05:50.152 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:50.152 +03:00 [INF] Route matched with {action = "Register", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.Dtos.RegisterDto) on controller QuizHubPresentation.Controllers.AccountController (QuizHubPresentation).
2024-10-27 16:05:50.156 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Repositories 
2024-10-27 16:05:50.160 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='GENELKISI' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)
2024-10-27 16:05:50.162 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='SECIL@GMAIL' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[DepartmentId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'ApplicationUser') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)
2024-10-27 16:05:50.169 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='a0cfd5f6-5f91-4fc7-b9b1-37593a4f6ae7' (Nullable = false) (Size = 450), @p1='0', @p2='11eaa637-1b45-4218-a81a-ae17ac2cb5a5' (Size = 4000), @p3='0' (Nullable = true), @p4='ApplicationUser' (Nullable = false) (Size = 4000), @p5='secil@gmail' (Size = 256), @p6='False', @p7='True', @p8=NULL (DbType = DateTimeOffset), @p9='SECIL@GMAIL' (Size = 256), @p10='GENELKISI' (Size = 256), @p11='AQAAAAEAACcQAAAAEAZ4HiFSFGok0UwaJ50ZYja22OFls9MlUoe2gl6S+EM1wFf+XL46kYd4JYxx7inzgw==' (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14='XD6T5RFLMVXRT6WNJBAASRDLW4IDV4TD' (Size = 4000), @p15='False', @p16='genelkisi' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [DepartmentId], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-10-27 16:05:50.179 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Repositories.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-27 16:05:50.217 +03:00 [INF] Executed action QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation) in 64.7034ms
2024-10-27 16:05:50.217 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.AccountController.Register (QuizHubPresentation)'
2024-10-27 16:05:50.287 +03:00 [ERR] Sunucu hatası. URL: /account/register, Method: POST, User: Anonymous
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_AspNetUsers_Departments_DepartmentId". The conflict occurred in database "Db_QuizHub", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ba17ef66-478e-4bb7-9f64-e4f73c7734e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at QuizHubPresentation.Controllers.AccountController.Register(RegisterDto model)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at QuizHubPresentation.Infrastructure.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context)
2024-10-27 16:05:50.291 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44335/account/register application/x-www-form-urlencoded 259 - 302 - - 139.7456ms
2024-10-27 16:05:50.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/Error/500 - -
2024-10-27 16:05:50.293 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:05:50.293 +03:00 [INF] Route matched with {action = "Error", controller = "Error", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Error(Int32) on controller QuizHubPresentation.Controllers.ErrorController (QuizHubPresentation).
2024-10-27 16:05:50.294 +03:00 [INF] Executing ViewResult, running view InternalServerError.
2024-10-27 16:05:50.294 +03:00 [INF] Executed ViewResult - view InternalServerError executed in 0.8965ms.
2024-10-27 16:05:50.295 +03:00 [INF] Executed action QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation) in 1.1793ms
2024-10-27 16:05:50.295 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:05:50.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/Error/500 - - - 200 - text/html;+charset=utf-8 1.9831ms
2024-10-27 16:05:50.302 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:05:50.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.7958ms
2024-10-27 16:07:13.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/Error/500 - -
2024-10-27 16:07:13.415 +03:00 [INF] Executing endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:07:13.416 +03:00 [INF] Route matched with {action = "Error", controller = "Error", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Error(Int32) on controller QuizHubPresentation.Controllers.ErrorController (QuizHubPresentation).
2024-10-27 16:07:13.416 +03:00 [INF] Executing ViewResult, running view InternalServerError.
2024-10-27 16:07:13.421 +03:00 [INF] Executed ViewResult - view InternalServerError executed in 4.7601ms.
2024-10-27 16:07:13.421 +03:00 [INF] Executed action QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation) in 4.9513ms
2024-10-27 16:07:13.421 +03:00 [INF] Executed endpoint 'QuizHubPresentation.Controllers.ErrorController.Error (QuizHubPresentation)'
2024-10-27 16:07:13.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/Error/500 - - - 200 - text/html;+charset=utf-8 6.8424ms
2024-10-27 16:07:13.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - -
2024-10-27 16:07:13.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44335/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 0.6442ms
